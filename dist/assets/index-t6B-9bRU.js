var R=(o,e,t)=>{if(!e.has(o))throw TypeError("Cannot "+t)};var a=(o,e,t)=>(R(o,e,"read from private field"),t?t.call(o):e.get(o)),r=(o,e,t)=>{if(e.has(o))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(o):e.set(o,t)},z=(o,e,t,s)=>(R(o,e,"write to private field"),s?s.call(o,t):e.set(o,t),t);var m=(o,e,t)=>(R(o,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();document.addEventListener("DOMContentLoaded",function(){Q(document.querySelector(".fade-in"));const o=document.querySelector(".userForm"),e=document.querySelector(".clock"),t=document.querySelector(".mantra"),s=localStorage.getItem("firstName"),n=localStorage.getItem("email");s&&n?(e.style.display="block",i(s),t.style.display="block",o.style.display="none"):(e.style.display="none",t.style.display="none",o.style.display="block"),o.addEventListener("submit",function(d){d.preventDefault();const l=document.getElementById("firstName").value,c=document.getElementById("email").value,h=/^[a-zA-Z]{1,10}$/;if(!l||h.test(l)||l.length>10){alert("Please enter a valid first name (max 10 characters, no spaces).");return}const u=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;if(!u.test(c)){alert("Please enter a valid email address.");return}if(!u.test(c)||!h.test(l)){alert("Either your email address or first name are incorrect");return}localStorage.setItem("firstName",l),localStorage.setItem("email",c),e.style.display="block",i(l),t.style.display="block",o.remove()});function i(d){const c=new Date().getHours();let h,u,S;c>=5&&c<12?u="Good Morning, ":c>=12&&c<17?u="Good Afternoon, ":c>=17&&c<20?u="Good Evening, ":u="Good Night, ",S=d,h=u+S,t.textContent=h}setInterval(function(){s&&i(s)},60*60*1e3)});function Q(o){o.style.opacity=0,o.classList.remove("hidden");let e=0,t=setInterval(()=>{e+=.02,o.style.opacity=e,e>=1&&clearInterval(t)},5)}document.addEventListener("DOMContentLoaded",function(){Q(document.querySelector(".fade-in"))});class ie{constructor(e,t,s){this.clockElement=e,this.mainTextElement=t,this.userName=s,this.setupClock()}setupClock(){this.updateTime(),this.startClockTicking()}startClockTicking(){setInterval(()=>this.updateTime(),6e4)}updateTime(){const e=new Date;let t=e.getHours(),s=e.getMinutes();t=t<10?`0${t}`:t,s=s<10?`0${s}`:s;const n=`${t}:${s}`;this.clockElement.textContent=n,this.greetUser(t)}greetUser(e){e>=5&&e<12?this.mainTextElement.textContent=`Good Morning, ${this.userName}`:e>=12&&e<17?this.mainTextElement.textContent=`Good Afternoon, ${this.userName}`:e>=17&&e<20?this.mainTextElement.textContent=`Good Evening, ${this.userName}`:this.mainTextElement.textContent=`Good Night, ${this.userName}`}}const ce=document.querySelector(".clock"),le=document.querySelector(".mantra");let ue;new ie(ce,le,ue);var I,v,J,k,L,f,E,q,N,W,T,X,C,Y,w,G,b,ee;const y=class y{constructor(){r(this,C);r(this,w);r(this,b);r(this,I,"78210c390a3449e4c862299aa77ff25c");r(this,v,document.querySelector(".city"));r(this,J,document.querySelector(".weather"));r(this,k,document.querySelector(".feelsLikeValue"));r(this,L,document.querySelector(".humidityValue"));r(this,f,document.querySelector("#weatherIcon"));r(this,E,document.querySelector(".weatherTemp"));r(this,q,document.querySelector(".weatherDescription"))}async getWeather(){var t,s;const e=localStorage.getItem("openweathermapResponseJSON");if(e)m(this,w,G).call(this,JSON.parse(e));else try{const n=await m(t=y,N,W).call(t);m(this,C,Y).call(this,n.lat,n.lon)}catch(n){m(s=y,T,X).call(s,n)}}};I=new WeakMap,v=new WeakMap,J=new WeakMap,k=new WeakMap,L=new WeakMap,f=new WeakMap,E=new WeakMap,q=new WeakMap,N=new WeakSet,W=function(){return new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(s=>{e({lat:s.coords.latitude,lon:s.coords.longitude})},s=>{t(s)},{timeout:1e4})})},T=new WeakSet,X=function(e){switch(console.log(e),e.code){case e.PERMISSION_DENIED:console.log("User denied the request for Geolocation.");break;case e.POSITION_UNAVAILABLE:console.log("Location information is unavailable.");break;case e.TIMEOUT:console.log("The request to get user location timed out.");break;default:console.log("An error occurred while getting the location.")}},C=new WeakSet,Y=async function(e,t){try{const n=await(await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${t}&appid=${a(this,I)}&units=metric`,{method:"GET",headers:{Accept:"application/json"}})).json();localStorage.setItem("openweathermapResponseJSON",JSON.stringify(n)),m(this,w,G).call(this,n),m(this,b,ee).call(this)}catch(s){console.error(s)}},w=new WeakSet,G=function(e){const t=Math.floor(e.main.temp),s=e.weather[0].description,n=e.name,i=e.sys.country,d=Math.floor(e.main.feels_like),l=e.weather[0].icon;console.log(l);const c=Math.floor(e.main.humidity),h=`https://openweathermap.org/img/wn/${l}@2x.png`,u=s.replace(/\w\S*/g,S=>S.charAt(0).toUpperCase()+S.substr(1).toLowerCase());a(this,E).textContent=`${t}°C, `,a(this,q).textContent=`${u}`,a(this,v).textContent=`${n}, ${i}`,a(this,k).textContent=`${d}°C`,a(this,L).textContent=`${c}%`,a(this,k).closest("li").classList.remove("hidden"),a(this,L).closest("li").classList.remove("hidden"),a(this,f).src=h,a(this,f).alt=s,a(this,f).classList.remove("hidden")},b=new WeakSet,ee=function(){setTimeout(()=>{localStorage.removeItem("openweathermapResponseJSON")},1*60*60*1e3)},r(y,N),r(y,T);let j=y;const me=new j;me.getWeather();var x,O,$,A,P,te;const H=class H{constructor(){r(this,P);r(this,x,100);r(this,O,`https://api.quotable.io/random?maxLength=${a(this,x)}`);r(this,$,document.querySelector("#quote"));r(this,A,document.querySelector(".quoteAuthor"));m(this,P,te).call(this)}static init(){new H}};x=new WeakMap,O=new WeakMap,$=new WeakMap,A=new WeakMap,P=new WeakSet,te=async function(){try{const t=await(await fetch(a(this,O),{method:"GET",headers:{Accept:"application/json"}})).json();a(this,$).textContent=t.content,a(this,A).textContent=t.author}catch(e){console.error(e)}};let V=H;V.init();const de="https://api.unsplash.com/photos/random/?query=nature&client_id=T100Vi8PriXsQfIo4x9dvM8sjnl5ElrQ9ynZ80oOU8Q&fm=jpg&fit=crop&w=1080&q=80&fit=max",he=document.querySelector(".container"),oe=()=>{const o=localStorage.getItem("unsplashResponseObject");if(!o){console.log("No photo details found in localStorage.");return}const e=JSON.parse(o),t=document.querySelector(".photographer"),s=document.querySelector(".photoLink");console.log(e),s.href=e.imageURL,t.textContent=e.photographer,t.href=e.photographerLink},pe=async()=>{try{const e=await(await fetch(de,{method:"GET",headers:{Accept:"application/json"}})).json();console.log(e);const t={title:e.alt_description,photographer:e.user.name,imageURL:e.urls.regular,photographerLink:e.user.links.html,likes:e.likes};localStorage.setItem("unsplashResponseObject",JSON.stringify(t)),se(t.imageURL),oe()}catch(o){console.error(o)}},se=o=>{he.style.backgroundImage=`url("${o}")`},Z=localStorage.getItem("unsplashResponseObject");if(!Z)pe();else{const o=JSON.parse(Z);se(o.imageURL),oe()}const ge=document.querySelector(".city"),ye=document.querySelector(".weatherContainer"),B=document.querySelector(".feelsLike"),F=document.querySelector(".feelsLikeValue"),K=document.querySelector(".humidity"),_=document.querySelector(".humidityValue");let U=!1;ge.addEventListener("click",ne);ye.addEventListener("click",ne);function ne(){U=!U,U?(B.style.display="block",F.style.display="block",K.style.display="block",_.style.display="block"):(B.style.display="none",F.style.display="none",K.style.display="none",_.style.display="none")}var p,g,D,ae,M,re;class fe{constructor(){r(this,D);r(this,M);r(this,p,void 0);r(this,g,"simpletodo");z(this,p,document.querySelector(".app-list ul")),this.init()}init(){this.storage("get"),document.querySelector(".app-insert input").addEventListener("keyup",m(this,D,ae).bind(this)),document.querySelector(".app-list").addEventListener("click",m(this,M,re).bind(this))}addTask(e){const t=document.createElement("li");t.setAttribute("class","task"),t.innerHTML=e+'<a href="javascript:;" class="remove-task" id="remove">remove</a>',a(this,p).appendChild(t)}removeTask(e){e.style.opacity=0,setTimeout(()=>{e.remove(),this.storage("update")},400)}completeTask(e){e.classList.toggle("task-complete"),this.storage("update")}storage(e){if(e==="get")localStorage.getItem(a(this,g))!==null&&(a(this,p).innerHTML=localStorage.getItem(a(this,g)));else if(e==="update"){const t=a(this,p).innerHTML;localStorage.setItem(a(this,g),t)}}static getStorageKey(){return a(new this,g)}}p=new WeakMap,g=new WeakMap,D=new WeakSet,ae=function(e){e.which===13&&e.target.value!==""&&(this.addTask(e.target.value),this.storage("update"),e.target.value="")},M=new WeakSet,re=function(e){e.target.classList.contains("remove-task")?this.removeTask(e.target.parentNode):e.target.classList.contains("task")&&this.completeTask(e.target)};new fe;
